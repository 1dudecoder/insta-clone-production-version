{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/Profile.js","components/screens/SignUp.js","components/screens/Login.js","components/screens/CreatePost.js","components/reducers/userReducers.js","components/screens/UserProfile.js","components/screens/SubscribeUserPost.js","App.js","index.js"],"names":["NavBar","useContext","userContext","state","dispatch","history","useHistory","renderList","to","className","onClick","localStorage","clear","type","push","style","marginRight","useEffect","console","log","id","Home","useState","data","setData","likecount","setLikeCount","fetch","headers","getItem","then","res","json","posts","map","item","marginLeft","fontWeight","fontSize","display","postedBy","_id","name","postId","method","Authorization","result","justifyContent","alignItems","cursor","caretColor","src","photo","alt","likes","includes","body","JSON","stringify","color","marginTop","length","title","comments","record","text","onSubmit","e","preventDefault","target","value","newdata","currentTarget","reset","placeholder","Profile","pics","setPics","image","setImage","imageUrl","setImageUrl","uploadImage","myposts","imageData","FormData","append","url","setItem","pic","payload","M","toast","html","classes","catch","err","borderBottom","width","height","borderRadius","onChange","files","email","undefined","followers","following","SignUp","setName","setEmail","password","setPassword","cpassword","setCpassword","uploadFields","test","error","setTimeout","PostData","Login","token","user","CreatePost","setTitle","setBody","margin","padding","postImage","reducer","action","UserProfile","userProfile","setUserProfile","userid","useParams","errorfound","setError","showfollow","setshowfollow","mydata","filter","followId","olddata","unfollowId","newFollower","SubscribeUserPost","createContext","Routing","location","useLocation","parse","pathname","path","exact","App","useReducer","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af2c281c.chunk.js","sourcesContent":["import React ,{useContext,useEffect} from \"react\"\r\nimport { Link,useHistory } from \"react-router-dom\";\r\nimport {userContext} from \"../App\"\r\n\r\nconst NavBar = () => {\r\n\r\n  const {state,dispatch} = useContext(userContext);\r\n  const history = useHistory();\r\n\r\n  const renderList = () => {\r\n    if(state){\r\n      return [\r\n        <li><Link to=\"/profile\">Profile</Link></li>,\r\n        <li><Link to=\"/createpost\">CreatePost</Link></li>,  \r\n        <li><Link to=\"/myfollowerspost\">My following Posts</Link></li>,  \r\n        <li><button className=\"btn waves-effect waves-light blue\" onClick={()=>{\r\n          localStorage.clear()\r\n          dispatch({type:\"CLEAR\"})\r\n          history.push(\"/login\");\r\n        }} style={{marginRight:\"5px\"} }>Logout</button></li>  \r\n        ]\r\n    }\r\n    \r\n    if(!state){\r\n      return[\r\n        <li><Link to=\"/login\">Login</Link></li>,\r\n        <li><Link to=\"/signup\">SignUp</Link></li>\r\n        ]\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    renderList();\r\n    console.log(\"running again \")\r\n  })\r\n    return(\r\n        <nav>\r\n        <div className=\"nav-wrapper white\">\r\n          <Link to={state?\"/\" : \"/login\"} className=\"brand-logo\">Instagram</Link>\r\n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n          {renderList()}\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React,{useState,useEffect, useContext} from 'react'\r\nimport { userContext } from '../../App'\r\nimport {Link} from \"react-router-dom\"\r\n\r\nfunction Home() {\r\n\r\n    const [data,setData] = useState([]);\r\n    const [likecount,setLikeCount] = useState(false);\r\n    const {state,dispatch} = useContext(userContext)\r\n\r\n    useEffect(()=>{\r\n       fetch(\"/allpost\",{\r\n           headers:{\r\n               \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\r\n           }\r\n       }).then(res=>res.json())\r\n       .then(data=>{\r\n           console.log(data.posts);\r\n           setData(data.posts);\r\n       })\r\n    },[data])\r\n\r\n    const likePost = (id) => {\r\n        fetch(\"/like\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id) => {\r\n        fetch(\"/unlike\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    const makeComment = (text,postId)=>{\r\n        fetch(\"/comment\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n        }).then(res=>res.json()).then((result)=>{\r\n            console.log(\"this is commnets result \" , result);\r\n            const newdata = data.map(item=>{\r\n                if(item._id == result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            console.log(newdata);\r\n            setData(newdata)\r\n\r\n        })\r\n    }\r\n\r\n    const deletePost = (postId)=>{\r\n        console.log(postId);\r\n        fetch(`/deletepost/${postId}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+ localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then((res)=>res.json())\r\n        .then(result=>{\r\n            console.log(result);\r\n\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"home\">\r\n        {\r\n            \r\n            data.map(item=>{\r\n\r\n                return(\r\n                <div className=\"card home-card\" key={item._id}>\r\n                <h5 style={{marginLeft:\"3rem\", fontWeight:\"bold\" ,fontSize:\"20px\" , display:\"flex\" }}> <Link to={item.postedBy._id != state._id ? \"/profile/\" + item.postedBy._id : \"/profile/\"} > {item.postedBy.name} </Link> \r\n                {item.postedBy._id == state._id ?         \r\n                    <span onClick={()=>{\r\n                    deletePost(item._id)\r\n                }} style={{marginLeft:\"40rem\" , display:\"flex\", justifyContent:\"center\" , alignItems:\"center\" , cursor:\"pointer\", caretColor:\"transparent\" }} className=\"material-icons\">\r\n                    delete\r\n                </span> : \"\" } \r\n\r\n            \r\n            </h5>\r\n \r\n                <div >\r\n                    <center><img src={item.photo} alt=\"img4\" /></center>\r\n                </div>\r\n\r\n                {\r\n                 !item.likes.includes(state._id) ?   \r\n                <i className=\"material-icons\" onClick={()=>{\r\n                        setLikeCount(false)\r\n                    if(likecount == false){   \r\n                        likePost(item._id);\r\n                        setLikeCount(true);\r\n                    }\r\n\r\n                }} style={{marginTop:\"1rem\",  marginLeft:\"1rem\", fontSize:\"2.5rem\"}}>favorite_border</i>\r\n                \r\n                :\r\n\r\n                <i className=\"material-icons\"  onClick={()=>{\r\n                    setLikeCount(true)\r\n                    if(likecount == true){\r\n                        unlikePost(item._id);\r\n                        setLikeCount(false);\r\n                    }\r\n                \r\n                }}\r\n                style={{color:\"red\" ,marginTop:\"1rem\",  marginLeft:\"1rem\", fontSize:\"2.5rem\"}}>favorite</i>\r\n\r\n                }\r\n                <h6 style={{marginLeft:\"1.5rem\"}}>{item.likes.length} likes</h6>\r\n\r\n                <div className=\"card-content\"> \r\n                     <span style={{fontWeight:\"bold\"}}>{item.postedBy.name} :- </span> <span> {item.title}</span>\r\n                     <p>{item.body}</p>\r\n\r\n                    <p>{item.comments.map(record=>{\r\n\r\n                        return(\r\n                            <>\r\n                            <span style={{fontWeight:\"bold\" , fontSize:\"13px\"}}>{record.postedBy.name +\" \"}\r\n                            </span> <span>{record.text}</span><br/>\r\n                            </>\r\n                        )\r\n                    })}\r\n                    </p>\r\n\r\n                    <form onSubmit={(e)=>{\r\n                        e.preventDefault()\r\n                        makeComment(e.target[0].value,item._id)\r\n                        e.currentTarget.reset() \r\n                        }}>\r\n\r\n                    <input type=\"text\" placeholder=\"comments\" />\r\n\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n                )\r\n            })\r\n        }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React,{useEffect,useState,useContext} from 'react'\r\nimport { userContext } from '../../App'\r\nimport M from 'materialize-css';\r\n\r\n\r\nfunction Profile() {\r\n\r\n    const [pics , setPics] = useState([])\r\n    const {state , dispatch} = useContext(userContext)\r\n    const [image,setImage] = useState(\"\")\r\n    const [imageUrl,setImageUrl] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        if(image){\r\n            uploadImage();\r\n        }\r\n    },[image])\r\n\r\n    useEffect(() => {\r\n        console.log(\"hellow their\")\r\n        fetch('/mypost' ,{\r\n            headers : {\r\n                \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\r\n            }\r\n        }).then(res => res.json())\r\n        .then( data => {\r\n            setPics(data.myposts)\r\n        })\r\n     },[])\r\n\r\n\r\n     const uploadImage = () => {\r\n        const imageData = new FormData();\r\n        imageData.append('file',image); //konsi file krni hai upload \r\n        imageData.append(\"upload_preset\",\"insta-clone\"); //khn krni hai \r\n        imageData.append(\"cloud_name\",\"santynitin\"); //cloud name kya hai \r\n        //dont forget to append image/uplaod after the based url\r\n        fetch(\"https://api.cloudinary.com/v1_1/santynitin/image/upload\",{\r\n            method:\"post\",\r\n            body:imageData\r\n        }).then((res)=>res.json())\r\n        .then((data)=>{\r\n            console.log(data.url);\r\n            setImageUrl(data.url);\r\n            localStorage.setItem(\"user\",JSON.stringify({...state,pic:data.url}))\r\n            dispatch({type:\"UPDATEPIC\",payload:data.url})\r\n            fetch(\"/updatepic\",{\r\n                method:\"put\",\r\n                headers:{\r\n                    \"Content-Type\":\"application.json\",\r\n                    \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    pic:imageUrl\r\n                })\r\n                ,\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                console.log(result)\r\n                setPics(result.myposts);\r\n            })\r\n\r\n\r\n            M.toast({html: 'Image uploaded successfully !',classes:\"blue\"})  \r\n        }).catch((err)=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div style={{display:\"flex\", borderBottom:\"1px solid grey\"}}> \r\n                <div style={{marginLeft:\"15rem\"}}>\r\n                    <img className=\"myprofile\" src={state?state.pic :\"loading\"} alt=\"img6\"\r\n                    style={{width:\"15rem\" , height:\"15rem\" ,borderRadius:\"10rem\" ,marginTop:\"1rem\"}}/>\r\n                \r\n                <div className=\"file-field input-field\">\r\n                        <div className=\"btn\">\r\n                            <span>UPDATE PROFILE Pic </span>\r\n                            <input type=\"file\" onChange={(e)=>{setImage(e.currentTarget.files[0])}}/>\r\n                        </div>\r\n            \r\n                        <div className=\"file-path-wrapper\">\r\n                        <input className=\"file-path validate\" type=\"text\" /> \r\n                        </div>\r\n                    </div>\r\n\r\n                \r\n                </div>\r\n\r\n                <div style={{ marginLeft:\"5rem\" , marginTop:\"2rem\"}}>\r\n                    <h5>{state ? state.name : \"loading\" }</h5>\r\n                    <h4>{state ? state.email : \"loading\" }</h4>\r\n\r\n                    <div style={{display:\"flex\", justifyContent:\"space-between\" ,width:\"25rem\"}}>\r\n                        <h6> {pics != undefined ? pics.length : \"loading\"} Posts</h6>\r\n                        <h6> {state ? state.followers.length : 0 } Followers</h6>\r\n                        <h6> {state ? state.following.length : 0 } Following</h6>\r\n                    </div>\r\n\r\n                    \r\n                </div>\r\n\r\n\r\n            </div>\r\n            <div className=\"galary\">\r\n            {\r\n                pics != undefined ? pics.map(item => {\r\n                    return(\r\n                    <img className=\"items\" src={item.photo} alt=\"img1\" height=\"150px\" width=\"250px\"></img>\r\n                    )\r\n                }) : \"\"\r\n\r\n            }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Link} from \"react-router-dom\"\r\nimport M from 'materialize-css';\r\nimport { useHistory  } from \"react-router-dom\";\r\n\r\n\r\nfunction SignUp() {\r\n\r\n\r\n\r\n    const [name, setName] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [cpassword, setCpassword] = useState(\"\")\r\n    let history = useHistory();\r\n    const [image,setImage] = useState(\"\")\r\n    const [imageUrl,setImageUrl] = useState(undefined)\r\n\r\n    useEffect(() => {\r\n        if(imageUrl){\r\n            uploadFields()\r\n        }\r\n    }, [imageUrl])\r\n\r\n    const HomeButton = () => {\r\n          history.push(\"/login\");\r\n    }\r\n\r\n    const uploadImage = () => {\r\n        const imageData = new FormData();\r\n        imageData.append('file',image); //konsi file krni hai upload \r\n        imageData.append(\"upload_preset\",\"insta-clone\"); //khn krni hai \r\n        imageData.append(\"cloud_name\",\"santynitin\"); //cloud name kya hai \r\n        //dont forget to append image/uplaod after the based url\r\n        fetch(\"https://api.cloudinary.com/v1_1/santynitin/image/upload\",{\r\n            method:\"post\",\r\n            body:imageData\r\n        }).then((res)=>res.json())\r\n        .then((data)=>{\r\n            setImageUrl(data.url);\r\n            console.log(imageUrl);\r\n            M.toast({html: 'Image uploaded successfully !',classes:\"blue\"})  \r\n        }).catch((err)=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const uploadFields = () => {\r\n        if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)){\r\n            fetch(\"/signup\",{\r\n                method:\"post\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\"\r\n                },\r\n                body:JSON.stringify({\r\n                    name,\r\n                    email,\r\n                    password,\r\n                    pic:imageUrl\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(data=>{\r\n                if(data.error){\r\n                    return M.toast({html: `${ data.error} !`,classes:\"red\"})  \r\n                }\r\n    \r\n                M.toast({html: 'SignUp Successfully !',classes:\"blue\"})  \r\n                M.toast({html: 'Please login !',classes:\"blue\"})  \r\n                setTimeout(() => {\r\n                    HomeButton();\r\n                }, 2000);\r\n            })\r\n        }else{\r\n            M.toast({html: 'Please enter the valid email !',classes:\"red\"})  \r\n\r\n        }\r\n    }\r\n\r\n    const PostData = () => {\r\n        if(image){\r\n            uploadImage()\r\n        }else{\r\n            uploadFields()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className=\"login-page\">\r\n            <div><img src=\"/phonephoto.png\" alt=\"phonephoto\"/></div>\r\n            <div className=\"card auth-card\">\r\n                <h1>Instagram</h1>\r\n                <div className=\"login-input\">\r\n                    <input className=\"input-field\" value={name} onChange={(e)=>{setName(e.target.value)}} type=\"text\" placeholder=\"Name\"/>\r\n                    <input className=\"input-field\" value={email} onChange={(e)=>{setEmail(e.target.value)}} type=\"email\" placeholder=\"Email\"/>\r\n                    <input className=\"input-field\" value={password}  onChange={(e)=>{setPassword(e.target.value)}} type=\"password\" placeholder=\"Password\"/>\r\n                    <input className=\"input-field\" value={cpassword}  onChange={(e)=>{setCpassword(e.target.value)}} type=\"password\" placeholder=\"Password\"/>\r\n                    \r\n                    <div className=\"file-field input-field\">\r\n                        <div className=\"btn\">\r\n                            <span>Upload Profile picture </span>\r\n                            <input type=\"file\" onChange={(e)=>{setImage(e.currentTarget.files[0])}}/>\r\n                        </div>\r\n            \r\n                        <div className=\"file-path-wrapper\">\r\n                        <input className=\"file-path validate\" type=\"text\" /> \r\n                        </div>\r\n                    </div>\r\n\r\n                    <button onClick={()=>{\r\n                \r\n                        if(!name || !email || !password || !cpassword){\r\n                            M.toast({html: 'plese fill all the fields !',classes:\"red\"})  \r\n\r\n                        }else if(password !== cpassword || password.length < 6 ){\r\n                            M.toast({html: 'Password must be greater then 6 character and Matchable !',classes:\"red\"})                              \r\n                        }else{\r\n                            PostData();\r\n                        }\r\n                        }} className=\"btn blue\">SignUp</button>\r\n                    <center><p>\r\n                        <Link to=\"/login\"> Already have an account ?  </Link>\r\n                    </p></center>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default SignUp\r\n","import React, {useState,useContext} from 'react'\r\nimport {Link} from \"react-router-dom\"\r\nimport M from 'materialize-css';\r\nimport { useHistory  } from \"react-router-dom\";\r\nimport {userContext} from \"../../App\"\r\n\r\n\r\nfunction Login() {\r\n    const {state,dispatch} = useContext(userContext)\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const history = useHistory();\r\n\r\n    const PostData = () => {\r\n        fetch(\"/signin\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n            },\r\n            body:JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            if(data.error === \"Invaild Email or Password\"){\r\n                console.log(data)\r\n                setTimeout(() => {      \r\n                    M.toast({html: 'Invaild Email or Password !',classes:\"red\"})  \r\n                }, 1000);\r\n            }else{\r\n                // console.log(data.token)\r\n                localStorage.setItem(\"jwt\",data.token)\r\n                localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n\r\n                dispatch({type:\"USER\", payload:data.user})\r\n\r\n                history.push(\"/\");\r\n                setTimeout(() => {      \r\n                    M.toast({html: 'successfully login !',classes:\"blue\"})  \r\n                }, 1000);\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <div className=\"login-page\">\r\n            <div><img src=\"/phonephoto.png\" alt=\"phonephoto\"/></div>\r\n            <div className=\"card auth-card\">\r\n                <h1>Instagram</h1>\r\n                <div className=\"login-input\">\r\n                    <input className=\"input-field\" value={email} onChange={(e)=>{setEmail(e.target.value)}} type=\"email\" placeholder=\"Email\"/>\r\n                    <input className=\"input-field\" value={password}  onChange={(e)=>{setPassword(e.target.value)}} type=\"password\" placeholder=\"Password\"/>\r\n                    <button onClick={()=>{PostData()}} className=\"btn blue\">Login</button>\r\n                    <center><p>\r\n                        <Link to=\"/signup\"> Dont have an account ?  </Link>\r\n                    </p></center>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React,{useState, useEffect} from 'react'\r\nimport M from 'materialize-css';\r\n\r\n\r\nfunction CreatePost() {\r\n    const [title, setTitle] = useState(\"\")\r\n    const [body, setBody] = useState(\"\")\r\n    const [image, setImage] = useState(\"\")\r\n    const [imageUrl, setImageUrl] = useState(\"\")\r\n\r\n\r\n    useEffect(() =>{\r\n        if(imageUrl){\r\n            PostData();\r\n        }\r\n    },[imageUrl])\r\n\r\n\r\n    //here we are posting our image to cloudanary \r\n    // and getting the image url and saveing to our data base\r\n    const postImage = () => {\r\n        const imageData = new FormData();\r\n        imageData.append('file',image); //konsi file krni hai upload \r\n        imageData.append(\"upload_preset\",\"insta-clone\"); //khn krni hai \r\n        imageData.append(\"cloud_name\",\"santynitin\"); //cloud name kya hai \r\n        //dont forget to append image/uplaod after the based url\r\n        fetch(\"https://api.cloudinary.com/v1_1/santynitin/image/upload\",{\r\n            method:\"post\",\r\n            body:imageData\r\n        }).then((res)=>res.json())\r\n        .then((data)=>{\r\n            setImageUrl(data.url);\r\n            console.log(imageUrl);\r\n            M.toast({html: 'Image uploaded successfully !',classes:\"blue\"})  \r\n        }).catch((err)=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const PostData = () => {\r\n        fetch(\"/createpost\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                title,\r\n                body,\r\n                pic:imageUrl                \r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n            M.toast({html: 'Post Uploaded successfully !',classes:\"blue\"})  \r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"card input field\" style={{margin:\"auto\", marginTop:\"2rem\", padding:\"2rem\" ,height:\"80vh\" ,width:\"500px\" }}>\r\n        <center><h1>Create Post</h1></center>\r\n        <input type=\"text\" value={title} onChange={(e)=>{setTitle(e.currentTarget.value)}} placeholder=\"title\" />\r\n        <input type=\"text\" value={body} onChange={(e)=>{setBody(e.currentTarget.value)}} placeholder=\"body\" />\r\n            <div className=\"file-field input-field\">\r\n                <div className=\"btn\">\r\n                    <span>File</span>\r\n                    <input type=\"file\" onChange={(e)=>{setImage(e.currentTarget.files[0])}}/>\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n                <button className=\"waves-effect waves-light btn blue\"\r\n                onClick={()=>{\r\n                    postImage()\r\n                }}\r\n                 style={{ margin:\"auto\", marginTop:\"3rem\" ,marginLeft:\"7rem\"}}>Post</button>       \r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n","export const initialState = null\r\n\r\nexport const reducer = (state,action) => {\r\n    if(action.type == \"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type == \"CLEAR\"){\r\n        return state == null\r\n    }\r\n    if(action.type == \"UPDATEPIC\"){\r\n        return{\r\n            ...state,\r\n            pic:action.payload\r\n        }\r\n    }\r\n    if(action.type == \"UPDATE\"){\r\n        return {\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n\r\n    return state\r\n}","import React,{useEffect,useState,useContext} from 'react'\r\nimport { userContext } from '../../App'\r\nimport {useParams} from \"react-router-dom\"\r\n\r\nfunction UserProfile() {\r\n\r\n    const [pics,setPics] = useState([])\r\n    const [userProfile,setUserProfile] = useState([])\r\n    const {state,dispatch} = useContext(userContext)\r\n    const {userid} = useParams()\r\n    const [errorfound,setError] = useState(false)\r\n    const [showfollow,setshowfollow] = useState(true);\r\n\r\n    useEffect(()=>{\r\n        fetch(`/profile/${userid}`,{\r\n            headers:{\r\n                \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n\r\n            if(data.error){\r\n                setError(true);\r\n            }\r\n            setPics(data.posts)\r\n            setUserProfile(data.user)\r\n            console.log(data.user)\r\n\r\n            let mydata = data.user.followers.filter(item => item == state._id); \r\n            \r\n            if(state){\r\n                if(mydata.length == 0){\r\n                    setshowfollow(true)\r\n                }else{\r\n                    setshowfollow(false)\r\n                }\r\n            }\r\n\r\n\r\n        })\r\n     },[])\r\n    \r\n    const followUser = () =>{\r\n        fetch(\"/follow\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            dispatch({type:\"UPDATE\", payload:{followers:data.followers,following:data.following}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            setUserProfile((olddata)=>{\r\n                return {\r\n                    ...olddata,\r\n                    followers:[...olddata.followers,data._id]\r\n                }\r\n            })\r\n            setshowfollow(false)\r\n        })\r\n    }\r\n\r\n    const UnfollowUser = () =>{\r\n        fetch(\"/unfollow\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                unfollowId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            dispatch({type:\"UPDATE\", payload:{followers:data.followers,following:data.following}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            setUserProfile((olddata)=>{\r\n                const newFollower = olddata.followers.filter(item => item !== data._id)\r\n                return {\r\n                    ...olddata,\r\n                    followers:newFollower\r\n                }\r\n            })\r\n            setshowfollow(true)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n        \r\n            {errorfound==true ? <center><h1 style={{marginTop:\"13rem\"}}>USER NOT FOUND ! </h1></center> :\r\n         <div>\r\n\r\n             <div style={{display:\"flex\", borderBottom:\"1px solid grey\"}}> \r\n                 <div style={{marginLeft:\"15rem\"}}>\r\n                     <img src={userProfile?userProfile.pic :\"loading\"} alt=\"img6\"\r\n                     style={{width:\"15rem\" , height:\"15rem\" ,borderRadius:\"10rem\" ,marginTop:\"1rem\"}}/>\r\n                 </div>\r\n                 <div style={{ marginLeft:\"5rem\" , marginTop:\"2rem\"}}>\r\n                    <h5>{userProfile.name}</h5>\r\n                    <h4>{userProfile.email}</h4>\r\n                     <div style={{display:\"flex\", justifyContent:\"space-between\" ,width:\"25rem\"}}>\r\n                    <h6>{pics.length} Post</h6>\r\n                    {\r\n                        userProfile.followers && userProfile.following ?\r\n                        <>\r\n                        <h6> {userProfile.followers.length} Followers </h6> \r\n                        <h6> {userProfile.following.length} Following </h6>\r\n                        </>\r\n                            : \r\n                        \"\"\r\n                    }\r\n                     </div>\r\n                {showfollow ? \r\n                    <button onClick={()=>{\r\n                    followUser()\r\n                }} className=\"btn blue followbtn\">Follow</button>  \r\n                :\r\n                <button onClick={()=>{\r\n                    UnfollowUser()\r\n                }} className=\"btn blue followbtn\">UnFollow</button>  \r\n                }\r\n                 </div>\r\n             </div>\r\n             <div className=\"galary\">\r\n             {\r\n                 pics.map(item => {\r\n                     return(\r\n                         <>\r\n                         <img className=\"items\" src={item.photo} alt=\"img1\" height=\"150px\" width=\"250px\"></img>\r\n                        </>\r\n                     )\r\n                 }) \r\n             }\r\n             </div>\r\n         </div>\r\n}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserProfile\r\n","\r\n\r\nimport React,{useState,useEffect, useContext} from 'react'\r\nimport { userContext } from '../../App'\r\nimport {Link} from \"react-router-dom\"\r\n\r\nfunction SubscribeUserPost() {\r\n\r\n    const [data,setData] = useState([]);\r\n    const [likecount,setLikeCount] = useState(false);\r\n    const {state,dispatch} = useContext(userContext)\r\n\r\n    useEffect(()=>{\r\n       fetch(\"/getsubpost\",{\r\n           headers:{\r\n               \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\r\n           }\r\n       }).then(res=>res.json())\r\n       .then(data=>{\r\n           console.log(data.posts);\r\n           setData(data.posts);\r\n       })\r\n    },[data])\r\n\r\n    const likePost = (id) => {\r\n        fetch(\"/like\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id) => {\r\n        fetch(\"/unlike\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    const makeComment = (text,postId)=>{\r\n        fetch(\"/comment\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n        }).then(res=>res.json()).then((result)=>{\r\n            console.log(\"this is commnets result \" , result);\r\n            const newdata = data.map(item=>{\r\n                if(item._id == result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            console.log(newdata);\r\n            setData(newdata)\r\n\r\n        })\r\n    }\r\n\r\n    const deletePost = (postId)=>{\r\n        console.log(postId);\r\n        fetch(`/deletepost/${postId}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+ localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then((res)=>res.json())\r\n        .then(result=>{\r\n            console.log(result);\r\n\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"home\">\r\n        {\r\n            \r\n            data.map(item=>{\r\n\r\n                return(\r\n                <div className=\"card home-card\" key={item._id}>\r\n                <h5 style={{marginLeft:\"3rem\", fontWeight:\"bold\" ,fontSize:\"20px\" , display:\"flex\" }}> <Link to={item.postedBy._id != state._id ? \"/profile/\" + item.postedBy._id : \"/profile/\"} > {item.postedBy.name} </Link> \r\n                {item.postedBy._id == state._id ?         \r\n                    <span onClick={()=>{\r\n                    deletePost(item._id)\r\n                }} style={{marginLeft:\"40rem\" , display:\"flex\", justifyContent:\"center\" , alignItems:\"center\" , cursor:\"pointer\", caretColor:\"transparent\" }} className=\"material-icons\">\r\n                    delete\r\n                </span> : \"\" } \r\n\r\n            \r\n            </h5>\r\n \r\n                <div >\r\n                    <center><img src={item.photo} alt=\"img4\" /></center>\r\n                </div>\r\n\r\n                {\r\n                 !item.likes.includes(state._id) ?   \r\n                <i className=\"material-icons\" onClick={()=>{\r\n                        setLikeCount(false)\r\n                    if(likecount == false){   \r\n                        likePost(item._id);\r\n                        setLikeCount(true);\r\n                    }\r\n\r\n                }} style={{marginTop:\"1rem\",  marginLeft:\"1rem\", fontSize:\"2.5rem\"}}>favorite_border</i>\r\n                \r\n                :\r\n\r\n                <i className=\"material-icons\"  onClick={()=>{\r\n                    setLikeCount(true)\r\n                    if(likecount == true){\r\n                        unlikePost(item._id);\r\n                        setLikeCount(false);\r\n                    }\r\n                \r\n                }}\r\n                style={{color:\"red\" ,marginTop:\"1rem\",  marginLeft:\"1rem\", fontSize:\"2.5rem\"}}>favorite</i>\r\n\r\n                }\r\n                <h6 style={{marginLeft:\"1.5rem\"}}>{item.likes.length} likes</h6>\r\n\r\n                <div className=\"card-content\"> \r\n                     <span style={{fontWeight:\"bold\"}}>{item.postedBy.name} :- </span> <span> {item.title}</span>\r\n                     <p>{item.body}</p>\r\n\r\n                    <p>{item.comments.map(record=>{\r\n\r\n                        return(\r\n                            <>\r\n                            <span style={{fontWeight:\"bold\" , fontSize:\"13px\"}}>{record.postedBy.name +\" \"}\r\n                            </span> <span>{record.text}</span><br/>\r\n                            </>\r\n                        )\r\n                    })}\r\n                    </p>\r\n\r\n                    <form onSubmit={(e)=>{\r\n                        e.preventDefault()\r\n                        makeComment(e.target[0].value,item._id)\r\n                        e.currentTarget.reset() \r\n                        }}>\r\n\r\n                    <input type=\"text\" placeholder=\"comments\" />\r\n\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n                )\r\n            })\r\n        }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SubscribeUserPost\r\n\r\n\r\n","import React, {useEffect,createContext,useReducer,useContext} from \"react\"\nimport NavBar from \"./components/Navbar\"\nimport {BrowserRouter as Router,Switch,Route,useHistory,useLocation} from \"react-router-dom\"\nimport \"./App.css\"\nimport Home from \"./components/screens/Home\"\nimport Profile from \"./components/screens/Profile\"\nimport SignUp from \"./components/screens/SignUp\"\nimport SignIn from \"./components/screens/Login\"\nimport CreatePost from \"./components/screens/CreatePost\"\nimport {reducer,initialState} from \"./components/reducers/userReducers\"\nimport UserProfile from \"./components/screens/UserProfile\"\nimport SubscribeUserPost from \"./components/screens/SubscribeUserPost\"\n\nexport const userContext = createContext();\n\n\nconst Routing = () => {\n  //we created seprate routing for using usehistory beacuse it can be only used inside router so we have no other option \n  const history = useHistory();\n  const location = useLocation();\n  const {state,dispatch} = useContext(userContext);\n\n  useEffect(()=>{\n\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if(user){\n      dispatch({type:\"USER\",payload:user})\n      if(location.pathname == \"/login\"){\n        history.push(\"/\");\n      }\n    }else{\n      history.push(\"/login\");\n    }\n\n  },[])\n\n\n  return(\n    <>\n    <Switch>\n      <Route path=\"/login\">\n        <SignIn />\n      </Route>\n      <Route path=\"/signup\">\n        <SignUp />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/profile/:userid\">\n        <UserProfile />\n      </Route>\n      <Route path=\"/myfollowerspost\">\n        <SubscribeUserPost />\n      </Route>\n      <Route path=\"/createpost\">\n        <CreatePost />\n      </Route>\n      <Route path=\"/\">\n        <Home />\n      </Route>\n\n    </Switch>\n    </>\n  )\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState)\n  return (\n    <>\n    <div className=\"App\">\n\n    <userContext.Provider value={{state,dispatch}}> \n        <Router>\n        <NavBar />\n          <Routing />\n        </Router>\n    </userContext.Provider>\n\n    </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}