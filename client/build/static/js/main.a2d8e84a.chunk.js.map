{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/Profile.js","components/screens/SignUp.js","components/screens/Login.js","components/screens/CreatePost.js","components/reducers/userReducers.js","components/screens/UserProfile.js","components/screens/SubscribeUserPost.js","App.js","index.js"],"names":["NavBar","useContext","userContext","state","dispatch","useState","search","setSearch","email","setEmail","searchModel","useRef","history","useHistory","useEffect","M","Modal","init","current","renderList","data-target","style","color","cursor","caretColor","className","to","onClick","localStorage","clear","type","push","marginRight","console","log","id","ref","placeholder","value","onChange","e","query","target","fetch","method","headers","body","JSON","stringify","then","res","json","result","user","map","item","_id","getInstance","close","Home","data","setData","likecount","setLikeCount","getItem","posts","marginLeft","fontWeight","fontSize","display","postedBy","name","postId","Authorization","justifyContent","alignItems","src","photo","alt","likes","includes","marginTop","length","title","comments","record","text","onSubmit","preventDefault","newdata","currentTarget","reset","Profile","pics","setPics","image","setImage","imageUrl","setImageUrl","uploadImage","myposts","imageData","FormData","append","url","setItem","pic","payload","toast","html","classes","catch","err","borderBottom","width","height","borderRadius","files","undefined","followers","following","SignUp","setName","password","setPassword","cpassword","setCpassword","uploadFields","test","error","setTimeout","PostData","Login","token","CreatePost","setTitle","setBody","margin","padding","postImage","reducer","action","UserProfile","userProfile","setUserProfile","userid","useParams","errorfound","setError","showfollow","setshowfollow","mydata","filter","followId","olddata","unfollowId","newFollower","SubscribeUserPost","createContext","Routing","location","useLocation","parse","pathname","path","exact","App","useReducer","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2d8e84a.chunk.js","sourcesContent":["import React ,{useContext,useEffect,useState,useRef} from \"react\"\r\nimport { Link,useHistory } from \"react-router-dom\";\r\nimport {userContext} from \"../App\"\r\nimport M from \"materialize-css\"\r\n\r\nconst NavBar = () => {\r\n\r\n  const {state,dispatch} = useContext(userContext);\r\n  const [search, setSearch] = useState([])\r\n  const [email,setEmail] = useState(\"\")\r\n  const searchModel = useRef(null)\r\n  const history = useHistory();\r\n\r\n  useEffect(()=>{\r\n    M.Modal.init(searchModel.current)\r\n  },[])\r\n\r\n\r\n\r\n  const fetchUsers = (query) => {\r\n    setEmail(query)\r\n    console.log(query)\r\n\r\n    fetch('/search-users',{\r\n      method:\"post\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\"\r\n      },\r\n      body:JSON.stringify({\r\n        query\r\n      })\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n      console.log(result)\r\n      setSearch(result.user)\r\n      console.log(search)\r\n    })\r\n  }\r\n\r\n\r\n  const renderList = () => {\r\n    if(state){\r\n      return [\r\n        <li><i data-target=\"modal1\" style={{color: \"black\" , cursor:\"pointer\" ,caretColor: \"transparent\"}}  className=\"material-icons modal-trigger\">search</i></li>,\r\n        <li><Link to=\"/profile\">Profile</Link></li>,\r\n        <li><Link to=\"/createpost\">CreatePost</Link></li>,  \r\n        <li><Link to=\"/myfollowerspost\">My following Posts</Link></li>,  \r\n        <li><button className=\"btn waves-effect waves-light blue\" onClick={()=>{\r\n          localStorage.clear()\r\n          dispatch({type:\"CLEAR\"})\r\n          history.push(\"/login\");\r\n        }} style={{marginRight:\"5px\"} }>Logout</button></li>  \r\n        ]\r\n    }\r\n    \r\n    if(!state){\r\n      return[\r\n        <li><Link to=\"/login\">Login</Link></li>,\r\n        <li><Link to=\"/signup\">SignUp</Link></li>\r\n        ]\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    renderList();\r\n    console.log(\"running again \")\r\n  })\r\n    return(\r\n      <>\r\n        <nav>\r\n        <div className=\"nav-wrapper white\">\r\n          <Link to={state?\"/\" : \"/login\"} className=\"brand-logo\">Instagram</Link>\r\n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n          {renderList()}\r\n          </ul>\r\n        </div>\r\n\r\n        <div id=\"modal1\" className=\"modal\" ref={searchModel} style={{color:\"black\"}}>\r\n        <div className=\"modal-content\">\r\n        <input type=\"text\" placeholder=\"enter the email\" value={email} onChange={(e)=>{\r\n          fetchUsers(e.target.value)\r\n        }} />\r\n          {\r\n            search.map(item => {\r\n             return(\r\n               <>\r\n               <ul className=\"collection\">\r\n               <Link to={item._id == state._id ? \"/profile\" : \"/profile/\"+item._id} \r\n               onClick={()=>{\r\n                 M.Modal.getInstance(searchModel.current).close();\r\n                 setEmail(\"\")\r\n                 setSearch([])\r\n               }}\r\n               >\r\n               <li style={{color:\"black\"}} className=\"collection-item\">{item.email}</li>\r\n               </Link>\r\n              </ul>\r\n              </>\r\n             )\r\n            })\r\n          }\r\n        \r\n\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button className=\"modal-close waves-effect waves-green btn-flat\">Close</button>\r\n        </div>\r\n      </div>\r\n\r\n      </nav>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React,{useState,useEffect, useContext} from 'react'\r\nimport { userContext } from '../../App'\r\nimport {Link} from \"react-router-dom\"\r\n\r\nfunction Home() {\r\n\r\n    const [data,setData] = useState([]);\r\n    const [likecount,setLikeCount] = useState(false);\r\n    const {state,dispatch} = useContext(userContext)\r\n\r\n    useEffect(()=>{\r\n       fetch(\"/allpost\",{\r\n           headers:{\r\n               \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\r\n           }\r\n       }).then(res=>res.json())\r\n       .then(data=>{\r\n           setData(data.posts);\r\n       })\r\n    },[data])\r\n\r\n    const likePost = (id) => {\r\n        fetch(\"/like\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id) => {\r\n        fetch(\"/unlike\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    const makeComment = (text,postId)=>{\r\n        fetch(\"/comment\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n        }).then(res=>res.json()).then((result)=>{\r\n            console.log(\"this is commnets result \" , result);\r\n            const newdata = data.map(item=>{\r\n                if(item._id == result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            console.log(newdata);\r\n            setData(newdata)\r\n\r\n        })\r\n    }\r\n\r\n    const deletePost = (postId)=>{\r\n        console.log(postId);\r\n        fetch(`/deletepost/${postId}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+ localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then((res)=>res.json())\r\n        .then(result=>{\r\n            console.log(result);\r\n\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"home\">\r\n        {\r\n            \r\n            data.map(item=>{\r\n\r\n                return(\r\n                <div className=\"card home-card\" key={item._id}>\r\n                <h5 style={{marginLeft:\"3rem\", fontWeight:\"bold\" ,fontSize:\"20px\" , display:\"flex\" }}> <Link to={item.postedBy._id != state._id ? \"/profile/\" + item.postedBy._id : \"/profile/\"} > {item.postedBy.name} </Link> \r\n                {item.postedBy._id == state._id ?         \r\n                    <span onClick={()=>{\r\n                    deletePost(item._id)\r\n                }} style={{marginLeft:\"40rem\" , display:\"flex\", justifyContent:\"center\" , alignItems:\"center\" , cursor:\"pointer\", caretColor:\"transparent\" }} className=\"material-icons\">\r\n                    delete\r\n                </span> : \"\" } \r\n\r\n            \r\n            </h5>\r\n \r\n                <div >\r\n                    <center><img src={item.photo} alt=\"img4\" /></center>\r\n                </div>\r\n\r\n                {\r\n                 !item.likes.includes(state._id) ?   \r\n                <i className=\"material-icons\" onClick={()=>{\r\n                        setLikeCount(false)\r\n                    if(likecount == false){   \r\n                        likePost(item._id);\r\n                        setLikeCount(true);\r\n                    }\r\n\r\n                }} style={{marginTop:\"1rem\",  marginLeft:\"1rem\", fontSize:\"2.5rem\"}}>favorite_border</i>\r\n                \r\n                :\r\n\r\n                <i className=\"material-icons\"  onClick={()=>{\r\n                    setLikeCount(true)\r\n                    if(likecount == true){\r\n                        unlikePost(item._id);\r\n                        setLikeCount(false);\r\n                    }\r\n                \r\n                }}\r\n                style={{color:\"red\" ,marginTop:\"1rem\",  marginLeft:\"1rem\", fontSize:\"2.5rem\"}}>favorite</i>\r\n\r\n                }\r\n                <h6 style={{marginLeft:\"1.5rem\"}}>{item.likes.length} likes</h6>\r\n\r\n                <div className=\"card-content\"> \r\n                     <span style={{fontWeight:\"bold\"}}>{item.postedBy.name} :- </span> <span> {item.title}</span>\r\n                     <p>{item.body}</p>\r\n\r\n                    <p>{item.comments.map(record=>{\r\n\r\n                        return(\r\n                            <>\r\n                            <span style={{fontWeight:\"bold\" , fontSize:\"13px\"}}>{record.postedBy.name +\" \"}\r\n                            </span> <span>{record.text}</span><br/>\r\n                            </>\r\n                        )\r\n                    })}\r\n                    </p>\r\n\r\n                    <form onSubmit={(e)=>{\r\n                        e.preventDefault()\r\n                        makeComment(e.target[0].value,item._id)\r\n                        e.currentTarget.reset() \r\n                        }}>\r\n\r\n                    <input type=\"text\" placeholder=\"comments\" />\r\n\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n                )\r\n            })\r\n        }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React,{useEffect,useState,useContext} from 'react'\r\nimport { userContext } from '../../App'\r\nimport M from 'materialize-css';\r\n\r\n\r\nfunction Profile() {\r\n\r\n    const [pics , setPics] = useState([])\r\n    const {state , dispatch} = useContext(userContext)\r\n    const [image,setImage] = useState(\"\")\r\n    const [imageUrl,setImageUrl] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        if(image){\r\n            uploadImage();\r\n        }\r\n    },[image])\r\n\r\n    useEffect(() => {\r\n        console.log(\"hellow their\")\r\n        fetch('/mypost' ,{\r\n            headers : {\r\n                \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\r\n            }\r\n        }).then(res => res.json())\r\n        .then( data => {\r\n            setPics(data.myposts)\r\n        })\r\n     },[])\r\n\r\n\r\n     const uploadImage = () => {\r\n        const imageData = new FormData();\r\n        imageData.append('file',image); //konsi file krni hai upload \r\n        imageData.append(\"upload_preset\",\"insta-clone\"); //khn krni hai \r\n        imageData.append(\"cloud_name\",\"santynitin\"); //cloud name kya hai \r\n        //dont forget to append image/uplaod after the based url\r\n        fetch(\"https://api.cloudinary.com/v1_1/santynitin/image/upload\",{\r\n            method:\"post\",\r\n            body:imageData\r\n        }).then((res)=>res.json())\r\n        .then((data)=>{\r\n            console.log(data.url);\r\n            setImageUrl(data.url);\r\n            localStorage.setItem(\"user\",JSON.stringify({...state,pic:data.url}))\r\n            dispatch({type:\"UPDATEPIC\",payload:data.url})\r\n            fetch(\"/updatepic\",{\r\n                method:\"put\",\r\n                headers:{\r\n                    \"Content-Type\":\"application.json\",\r\n                    \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    pic:imageUrl\r\n                })\r\n                ,\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                console.log(result)\r\n                setPics(result.myposts);\r\n            })\r\n\r\n\r\n            M.toast({html: 'Image uploaded successfully !',classes:\"blue\"})  \r\n        }).catch((err)=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div style={{display:\"flex\", borderBottom:\"1px solid grey\"}}> \r\n                <div style={{marginLeft:\"15rem\"}}>\r\n                    <img className=\"myprofile\" src={state?state.pic :\"loading\"} alt=\"img6\"\r\n                    style={{width:\"15rem\" , height:\"15rem\" ,borderRadius:\"10rem\" ,marginTop:\"1rem\"}}/>\r\n                \r\n                <div className=\"file-field input-field\">\r\n                        <div className=\"btn\">\r\n                            <span>UPDATE PROFILE Pic </span>\r\n                            <input type=\"file\" onChange={(e)=>{setImage(e.currentTarget.files[0])}}/>\r\n                        </div>\r\n            \r\n                        <div className=\"file-path-wrapper\">\r\n                        <input className=\"file-path validate\" type=\"text\" /> \r\n                        </div>\r\n                    </div>\r\n\r\n                \r\n                </div>\r\n\r\n                <div style={{ marginLeft:\"5rem\" , marginTop:\"2rem\"}}>\r\n                    <h5>{state ? state.name : \"loading\" }</h5>\r\n                    <h4>{state ? state.email : \"loading\" }</h4>\r\n\r\n                    <div style={{display:\"flex\", justifyContent:\"space-between\" ,width:\"25rem\"}}>\r\n                        <h6> {pics != undefined ? pics.length : 0} Posts</h6>\r\n                        <h6> {state ? state.followers.length : 0 } Followers</h6>\r\n                        <h6> {state ? state.following.length : 0 } Following</h6>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n            <div className=\"galary\">\r\n            {\r\n                pics != undefined ? pics.map(item => {\r\n                    return(\r\n                    <img className=\"items\" src={item.photo} alt=\"img1\" height=\"150px\" width=\"250px\"></img>\r\n                    )\r\n                }) : \"\"\r\n\r\n            }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Link} from \"react-router-dom\"\r\nimport M from 'materialize-css';\r\nimport { useHistory  } from \"react-router-dom\";\r\n\r\n\r\nfunction SignUp() {\r\n\r\n    const [name, setName] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [cpassword, setCpassword] = useState(\"\")\r\n    let history = useHistory();\r\n    const [image,setImage] = useState(\"\")\r\n    const [imageUrl,setImageUrl] = useState(undefined)\r\n\r\n    useEffect(() => {\r\n        if(imageUrl){\r\n            uploadFields()\r\n        }\r\n    }, [imageUrl])\r\n\r\n    const HomeButton = () => {\r\n          history.push(\"/login\");\r\n    }\r\n\r\n    const uploadImage = () => {\r\n        const imageData = new FormData();\r\n        imageData.append('file',image); //konsi file krni hai upload \r\n        imageData.append(\"upload_preset\",\"insta-clone\"); //khn krni hai \r\n        imageData.append(\"cloud_name\",\"santynitin\"); //cloud name kya hai \r\n        //dont forget to append image/uplaod after the based url\r\n        fetch(\"https://api.cloudinary.com/v1_1/santynitin/image/upload\",{\r\n            method:\"post\",\r\n            body:imageData\r\n        }).then((res)=>res.json())\r\n        .then((data)=>{\r\n            setImageUrl(data.url);\r\n            console.log(imageUrl);\r\n            M.toast({html: 'Image uploaded successfully !',classes:\"blue\"})  \r\n        }).catch((err)=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const uploadFields = () => {\r\n        if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)){\r\n            fetch(\"/signup\",{\r\n                method:\"post\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\"\r\n                },\r\n                body:JSON.stringify({\r\n                    name,\r\n                    email,\r\n                    password,\r\n                    pic:imageUrl\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(data=>{\r\n                if(data.error){\r\n                    return M.toast({html: `${ data.error} !`,classes:\"red\"})  \r\n                }\r\n    \r\n                M.toast({html: 'SignUp Successfully !',classes:\"blue\"})  \r\n                M.toast({html: 'Please login !',classes:\"blue\"})  \r\n                setTimeout(() => {\r\n                    HomeButton();\r\n                }, 2000);\r\n            })\r\n        }else{\r\n            M.toast({html: 'Please enter the valid email !',classes:\"red\"})  \r\n\r\n        }\r\n    }\r\n\r\n    const PostData = () => {\r\n        if(image){\r\n            uploadImage()\r\n        }else{\r\n            uploadFields()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className=\"login-page\">\r\n            <div><img src=\"/phonephoto.png\" alt=\"phonephoto\"/></div>\r\n            <div className=\"card auth-card\">\r\n                <h1>Instagram</h1>\r\n                <div className=\"login-input\">\r\n                    <input className=\"input-field\" value={name} onChange={(e)=>{setName(e.target.value)}} type=\"text\" placeholder=\"Name\"/>\r\n                    <input className=\"input-field\" value={email} onChange={(e)=>{setEmail(e.target.value)}} type=\"email\" placeholder=\"Email\"/>\r\n                    <input className=\"input-field\" value={password}  onChange={(e)=>{setPassword(e.target.value)}} type=\"password\" placeholder=\"Password\"/>\r\n                    <input className=\"input-field\" value={cpassword}  onChange={(e)=>{setCpassword(e.target.value)}} type=\"password\" placeholder=\"Password\"/>\r\n                    \r\n                    <div className=\"file-field input-field\">\r\n                        <div className=\"btn\">\r\n                            <span>Upload Profile picture </span>\r\n                            <input type=\"file\" onChange={(e)=>{setImage(e.currentTarget.files[0])}}/>\r\n                        </div>\r\n            \r\n                        <div className=\"file-path-wrapper\">\r\n                        <input className=\"file-path validate\" type=\"text\" /> \r\n                        </div>\r\n                    </div>\r\n\r\n                    <button onClick={()=>{\r\n                \r\n                        if(!name || !email || !password || !cpassword){\r\n                            M.toast({html: 'plese fill all the fields !',classes:\"red\"})  \r\n\r\n                        }else if(password !== cpassword || password.length < 6 ){\r\n                            M.toast({html: 'Password must be greater then 6 character and Matchable !',classes:\"red\"})                              \r\n                        }else{\r\n                            PostData();\r\n                        }\r\n                        }} className=\"btn blue\">SignUp</button>\r\n                    <center><p>\r\n                        <Link to=\"/login\"> Already have an account ?  </Link>\r\n                    </p></center>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default SignUp\r\n","import React, {useState,useContext} from 'react'\r\nimport {Link} from \"react-router-dom\"\r\nimport M from 'materialize-css';\r\nimport { useHistory  } from \"react-router-dom\";\r\nimport {userContext} from \"../../App\"\r\n\r\n\r\nfunction Login() {\r\n    const {state,dispatch} = useContext(userContext)\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const history = useHistory();\r\n\r\n    const PostData = () => {\r\n        fetch(\"/signin\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n            },\r\n            body:JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            if(data.error === \"Invaild Email or Password\"){\r\n                console.log(data)\r\n                setTimeout(() => {      \r\n                    M.toast({html: 'Invaild Email or Password !',classes:\"red\"})  \r\n                }, 1000);\r\n            }else{\r\n                // console.log(data.token)\r\n                localStorage.setItem(\"jwt\",data.token)\r\n                localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n\r\n                dispatch({type:\"USER\", payload:data.user})\r\n\r\n                history.push(\"/\");\r\n                setTimeout(() => {      \r\n                    M.toast({html: 'successfully login !',classes:\"blue\"})  \r\n                }, 1000);\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <div className=\"login-page\">\r\n            <div><img src=\"/phonephoto.png\" alt=\"phonephoto\"/></div>\r\n            <div className=\"card auth-card\">\r\n                <h1>Instagram</h1>\r\n                <div className=\"login-input\">\r\n                    <input className=\"input-field\" value={email} onChange={(e)=>{setEmail(e.target.value)}} type=\"email\" placeholder=\"Email\"/>\r\n                    <input className=\"input-field\" value={password}  onChange={(e)=>{setPassword(e.target.value)}} type=\"password\" placeholder=\"Password\"/>\r\n                    <button onClick={()=>{PostData()}} className=\"btn blue\">Login</button>\r\n                    <center><p>\r\n                        <Link to=\"/signup\"> Dont have an account ?  </Link>\r\n                    </p></center>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React,{useState, useEffect} from 'react'\r\nimport M from 'materialize-css';\r\n\r\n\r\nfunction CreatePost() {\r\n    const [title, setTitle] = useState(\"\")\r\n    const [body, setBody] = useState(\"\")\r\n    const [image, setImage] = useState(\"\")\r\n    const [imageUrl, setImageUrl] = useState(\"\")\r\n\r\n\r\n    useEffect(() =>{\r\n        if(imageUrl){\r\n            PostData();\r\n        }\r\n    },[imageUrl])\r\n\r\n\r\n    //here we are posting our image to cloudanary \r\n    // and getting the image url and saveing to our data base\r\n    const postImage = () => {\r\n        const imageData = new FormData();\r\n        imageData.append('file',image); //konsi file krni hai upload \r\n        imageData.append(\"upload_preset\",\"insta-clone\"); //khn krni hai \r\n        imageData.append(\"cloud_name\",\"santynitin\"); //cloud name kya hai \r\n        //dont forget to append image/uplaod after the based url\r\n        fetch(\"https://api.cloudinary.com/v1_1/santynitin/image/upload\",{\r\n            method:\"post\",\r\n            body:imageData\r\n        }).then((res)=>res.json())\r\n        .then((data)=>{\r\n            setImageUrl(data.url);\r\n            console.log(imageUrl);\r\n            M.toast({html: 'Image uploaded successfully !',classes:\"blue\"})  \r\n        }).catch((err)=>{\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const PostData = () => {\r\n        fetch(\"/createpost\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                title,\r\n                body,\r\n                pic:imageUrl                \r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n            M.toast({html: 'Post Uploaded successfully !',classes:\"blue\"})  \r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"card input field\" style={{margin:\"auto\", marginTop:\"2rem\", padding:\"2rem\" ,height:\"80vh\" ,width:\"500px\" }}>\r\n        <center><h1>Create Post</h1></center>\r\n        <input type=\"text\" value={title} onChange={(e)=>{setTitle(e.currentTarget.value)}} placeholder=\"title\" />\r\n        <input type=\"text\" value={body} onChange={(e)=>{setBody(e.currentTarget.value)}} placeholder=\"body\" />\r\n            <div className=\"file-field input-field\">\r\n                <div className=\"btn\">\r\n                    <span>File</span>\r\n                    <input type=\"file\" onChange={(e)=>{setImage(e.currentTarget.files[0])}}/>\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n                <button className=\"waves-effect waves-light btn blue\"\r\n                onClick={()=>{\r\n                    postImage()\r\n                }}\r\n                 style={{ margin:\"auto\", marginTop:\"3rem\" ,marginLeft:\"7rem\"}}>Post</button>       \r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n","export const initialState = null\r\n\r\nexport const reducer = (state,action) => {\r\n    if(action.type == \"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type == \"CLEAR\"){\r\n        return state == null\r\n    }\r\n    if(action.type == \"UPDATEPIC\"){\r\n        return{\r\n            ...state,\r\n            pic:action.payload\r\n        }\r\n    }\r\n    if(action.type == \"UPDATE\"){\r\n        return {\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n\r\n    return state\r\n}","import React,{useEffect,useState,useContext} from 'react'\r\nimport { userContext } from '../../App'\r\nimport {useParams} from \"react-router-dom\"\r\n\r\nfunction UserProfile() {\r\n\r\n    const [pics,setPics] = useState([])\r\n    const [userProfile,setUserProfile] = useState([])\r\n    const {state,dispatch} = useContext(userContext)\r\n    const {userid} = useParams()\r\n    const [errorfound,setError] = useState(false)\r\n    const [showfollow,setshowfollow] = useState(true);\r\n\r\n    useEffect(()=>{\r\n        fetch(`/profile/${userid}`,{\r\n            headers:{\r\n                \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n\r\n            if(data.error){\r\n                setError(true);\r\n            }\r\n            setPics(data.posts)\r\n            setUserProfile(data.user)\r\n            console.log(data.user)\r\n\r\n            let mydata = data.user.followers.filter(item => item == state._id); \r\n            \r\n            if(state){\r\n                if(mydata.length == 0){\r\n                    setshowfollow(true)\r\n                }else{\r\n                    setshowfollow(false)\r\n                }\r\n            }\r\n\r\n\r\n        })\r\n     },[])\r\n    \r\n    const followUser = () =>{\r\n        fetch(\"/follow\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            dispatch({type:\"UPDATE\", payload:{followers:data.followers,following:data.following}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            setUserProfile((olddata)=>{\r\n                return {\r\n                    ...olddata,\r\n                    followers:[...olddata.followers,data._id]\r\n                }\r\n            })\r\n            setshowfollow(false)\r\n        })\r\n    }\r\n\r\n    const UnfollowUser = () =>{\r\n        fetch(\"/unfollow\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+ localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                unfollowId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            dispatch({type:\"UPDATE\", payload:{followers:data.followers,following:data.following}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            setUserProfile((olddata)=>{\r\n                const newFollower = olddata.followers.filter(item => item !== data._id)\r\n                return {\r\n                    ...olddata,\r\n                    followers:newFollower\r\n                }\r\n            })\r\n            setshowfollow(true)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n        \r\n            {errorfound==true ? <center><h1 style={{marginTop:\"13rem\"}}>USER NOT FOUND ! </h1></center> :\r\n         <div>\r\n\r\n             <div style={{display:\"flex\", borderBottom:\"1px solid grey\"}}> \r\n                 <div style={{marginLeft:\"15rem\"}}>\r\n                     <img src={userProfile?userProfile.pic :\"loading\"} alt=\"img6\"\r\n                     style={{width:\"15rem\" , height:\"15rem\" ,borderRadius:\"10rem\" ,marginTop:\"1rem\"}}/>\r\n                 </div>\r\n                 <div style={{ marginLeft:\"5rem\" , marginTop:\"2rem\"}}>\r\n                    <h5>{userProfile.name}</h5>\r\n                    <h4>{userProfile.email}</h4>\r\n                     <div style={{display:\"flex\", justifyContent:\"space-between\" ,width:\"25rem\"}}>\r\n                    <h6>{pics.length} Post</h6>\r\n                    {\r\n                        userProfile.followers && userProfile.following ?\r\n                        <>\r\n                        <h6> {userProfile.followers.length} Followers </h6> \r\n                        <h6> {userProfile.following.length} Following </h6>\r\n                        </>\r\n                            : \r\n                        \"\"\r\n                    }\r\n                     </div>\r\n                {showfollow ? \r\n                    <button onClick={()=>{\r\n                    followUser()\r\n                }} className=\"btn blue followbtn\">Follow</button>  \r\n                :\r\n                <button onClick={()=>{\r\n                    UnfollowUser()\r\n                }} className=\"btn blue followbtn\">UnFollow</button>  \r\n                }\r\n                 </div>\r\n             </div>\r\n             <div className=\"galary\">\r\n             {\r\n                 pics.map(item => {\r\n                     return(\r\n                         <>\r\n                         <img className=\"items\" src={item.photo} alt=\"img1\" height=\"150px\" width=\"250px\"></img>\r\n                        </>\r\n                     )\r\n                 }) \r\n             }\r\n             </div>\r\n         </div>\r\n}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UserProfile\r\n","\r\n\r\nimport React,{useState,useEffect, useContext} from 'react'\r\nimport { userContext } from '../../App'\r\nimport {Link} from \"react-router-dom\"\r\n\r\nfunction SubscribeUserPost() {\r\n\r\n    const [data,setData] = useState([]);\r\n    const [likecount,setLikeCount] = useState(false);\r\n    const {state,dispatch} = useContext(userContext)\r\n\r\n    useEffect(()=>{\r\n       fetch(\"/getsubpost\",{\r\n           headers:{\r\n               \"Authorization\" : \"Bearer \"+ localStorage.getItem(\"jwt\"),\r\n           }\r\n       }).then(res=>res.json())\r\n       .then(data=>{\r\n           console.log(data.posts);\r\n           setData(data.posts);\r\n       })\r\n    },[data])\r\n\r\n    const likePost = (id) => {\r\n        fetch(\"/like\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    const unlikePost = (id) => {\r\n        fetch(\"/unlike\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId: id\r\n            })\r\n        }).then(res=>res.json())\r\n        .then((result)=>{\r\n            console.log(result);\r\n        })\r\n    }\r\n\r\n    const makeComment = (text,postId)=>{\r\n        fetch(\"/comment\",{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId,\r\n                text\r\n            })\r\n        }).then(res=>res.json()).then((result)=>{\r\n            console.log(\"this is commnets result \" , result);\r\n            const newdata = data.map(item=>{\r\n                if(item._id == result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            console.log(newdata);\r\n            setData(newdata)\r\n\r\n        })\r\n    }\r\n\r\n    const deletePost = (postId)=>{\r\n        console.log(postId);\r\n        fetch(`/deletepost/${postId}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+ localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then((res)=>res.json())\r\n        .then(result=>{\r\n            console.log(result);\r\n\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"home\">\r\n        {\r\n            \r\n            data.map(item=>{\r\n\r\n                return(\r\n                <div className=\"card home-card\" key={item._id}>\r\n                <h5 style={{marginLeft:\"3rem\", fontWeight:\"bold\" ,fontSize:\"20px\" , display:\"flex\" }}> <Link to={item.postedBy._id != state._id ? \"/profile/\" + item.postedBy._id : \"/profile/\"} > {item.postedBy.name} </Link> \r\n                {item.postedBy._id == state._id ?         \r\n                    <span onClick={()=>{\r\n                    deletePost(item._id)\r\n                }} style={{marginLeft:\"40rem\" , display:\"flex\", justifyContent:\"center\" , alignItems:\"center\" , cursor:\"pointer\", caretColor:\"transparent\" }} className=\"material-icons\">\r\n                    delete\r\n                </span> : \"\" } \r\n\r\n            \r\n            </h5>\r\n \r\n                <div >\r\n                    <center><img src={item.photo} alt=\"img4\" /></center>\r\n                </div>\r\n\r\n                {\r\n                 !item.likes.includes(state._id) ?   \r\n                <i className=\"material-icons\" onClick={()=>{\r\n                        setLikeCount(false)\r\n                    if(likecount == false){   \r\n                        likePost(item._id);\r\n                        setLikeCount(true);\r\n                    }\r\n\r\n                }} style={{marginTop:\"1rem\",  marginLeft:\"1rem\", fontSize:\"2.5rem\"}}>favorite_border</i>\r\n                \r\n                :\r\n\r\n                <i className=\"material-icons\"  onClick={()=>{\r\n                    setLikeCount(true)\r\n                    if(likecount == true){\r\n                        unlikePost(item._id);\r\n                        setLikeCount(false);\r\n                    }\r\n                \r\n                }}\r\n                style={{color:\"red\" ,marginTop:\"1rem\",  marginLeft:\"1rem\", fontSize:\"2.5rem\"}}>favorite</i>\r\n\r\n                }\r\n                <h6 style={{marginLeft:\"1.5rem\"}}>{item.likes.length} likes</h6>\r\n\r\n                <div className=\"card-content\"> \r\n                     <span style={{fontWeight:\"bold\"}}>{item.postedBy.name} :- </span> <span> {item.title}</span>\r\n                     <p>{item.body}</p>\r\n\r\n                    <p>{item.comments.map(record=>{\r\n\r\n                        return(\r\n                            <>\r\n                            <span style={{fontWeight:\"bold\" , fontSize:\"13px\"}}>{record.postedBy.name +\" \"}\r\n                            </span> <span>{record.text}</span><br/>\r\n                            </>\r\n                        )\r\n                    })}\r\n                    </p>\r\n\r\n                    <form onSubmit={(e)=>{\r\n                        e.preventDefault()\r\n                        makeComment(e.target[0].value,item._id)\r\n                        e.currentTarget.reset() \r\n                        }}>\r\n\r\n                    <input type=\"text\" placeholder=\"comments\" />\r\n\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n                )\r\n            })\r\n        }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SubscribeUserPost\r\n\r\n\r\n","import React, {useEffect,createContext,useReducer,useContext} from \"react\"\nimport NavBar from \"./components/Navbar\"\nimport {BrowserRouter as Router,Switch,Route,useHistory,useLocation} from \"react-router-dom\"\nimport \"./App.css\"\nimport Home from \"./components/screens/Home\"\nimport Profile from \"./components/screens/Profile\"\nimport SignUp from \"./components/screens/SignUp\"\nimport SignIn from \"./components/screens/Login\"\nimport CreatePost from \"./components/screens/CreatePost\"\nimport {reducer,initialState} from \"./components/reducers/userReducers\"\nimport UserProfile from \"./components/screens/UserProfile\"\nimport SubscribeUserPost from \"./components/screens/SubscribeUserPost\"\n\nexport const userContext = createContext();\n\n\nconst Routing = () => {\n  //we created seprate routing for using usehistory beacuse it can be only used inside router so we have no other option \n  const history = useHistory();\n  const location = useLocation();\n  const {state,dispatch} = useContext(userContext);\n\n  useEffect(()=>{\n\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if(user){\n      dispatch({type:\"USER\",payload:user})\n      if(location.pathname == \"/login\"){\n        history.push(\"/\");\n      }\n    }else{\n      history.push(\"/login\");\n    }\n\n  },[])\n\n\n  return(\n    <>\n    <Switch>\n      <Route path=\"/login\">\n        <SignIn />\n      </Route>\n      <Route path=\"/signup\">\n        <SignUp />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/profile/:userid\">\n        <UserProfile />\n      </Route>\n      <Route path=\"/myfollowerspost\">\n        <SubscribeUserPost />\n      </Route>\n      <Route path=\"/createpost\">\n        <CreatePost />\n      </Route>\n      <Route path=\"/\">\n        <Home />\n      </Route>\n\n    </Switch>\n    </>\n  )\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState)\n  return (\n    <>\n    <div className=\"App\">\n\n    <userContext.Provider value={{state,dispatch}}> \n        <Router>\n        <NavBar />\n          <Routing />\n        </Router>\n    </userContext.Provider>\n\n    </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}